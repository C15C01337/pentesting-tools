cd /var/www/html

git clone https://github.com/digininja/DVWA.git

mv DVWA dvwa
chmod -R 777 dvwa/

sudo apt update
sudo apt -y install lsb-release apt-transport-https ca-certificates
sudo wget -O /etc/apt/trusted.gpg.d/php.gpg https://packages.sury.org/php/apt.gpg
echo "deb https://packages.sury.org/php/ buster main" | sudo tee /etc/apt/sources.list.d/php.list

sudo apt install php7.4 -y
sudo apt install php7.4-{cli,json,imap,bcmath,bz2,intl,gd,mbstring,mysql,zip}




cd dvwa/config
cp config.inc.php.dist config.inc.php

clear
echo "cd /etc/php/7.4/apache2"
echo "Scroll down and look for these two lines: allow_url_fopen and allow_url_include." 
echo "Set them both as On."


echo "Change the config file"
echo "nano config.inc.php"

echo "service apache2 start"
echo  "service mysql start"



echo "for mysql"
echo "mysql -u root -p"
echo "create user 'dvwa'@'localhost' identified by 'dvwa';"
echo "grant all privileges on dvwa1.* to 'dvwa'@'localhost' identified by 'dvwa';"
echo "flush privileges;"
  
  









